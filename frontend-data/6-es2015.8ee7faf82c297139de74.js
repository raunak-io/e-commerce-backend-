(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+cuU":function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",(function(){return $}));var r=n("ofXK"),c=n("3Pt+"),i=n("kjaF"),a=n("tyNb"),o=n("EKPx"),s=n("fXoL"),u=n("lGQG");let p=(()=>{class t{constructor(t,e){this.service=t,this.router=e}canActivate(t,e){const n=this.service.getRole(),r=this.service.getIsAuth();if(r&&"admin"===n)return r;this.router.navigate(["/"])}}return t.\u0275fac=function(e){return new(e||t)(s.Xb(u.a),s.Xb(a.b))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac}),t})();var d=n("6Qg2"),b=n("S3Px"),m=n("7EHt"),l=n("bTqV"),g=n("Wp6s");function f(t,e){if(1&t){const t=s.Ub();s.Tb(0,"mat-expansion-panel"),s.Tb(1,"mat-expansion-panel-header"),s.Tb(2,"mat-panel-title"),s.xc(3),s.Sb(),s.Sb(),s.Tb(4,"p"),s.xc(5),s.Sb(),s.Tb(6,"mat-action-row"),s.Tb(7,"button",5),s.xc(8," EDIT "),s.Sb(),s.Tb(9,"button",6),s.bc("click",(function(){s.qc(t);const n=e.$implicit;return s.fc(2).deltheuser(n.id)})),s.xc(10," DELETE "),s.Sb(),s.Sb(),s.Sb()}if(2&t){const t=e.$implicit;s.Bb(3),s.zc(" ",t.name," "),s.Bb(2),s.yc(t.email)}}function h(t,e){if(1&t&&(s.Tb(0,"mat-accordion",3),s.wc(1,f,11,2,"mat-expansion-panel",4),s.Sb()),2&t){const t=s.fc();s.Bb(1),s.kc("ngForOf",t.usersData)}}function P(t,e){1&t&&(s.Tb(0,"p",7),s.xc(1," No users registered yet!\n"),s.Sb())}function S(t,e){if(1&t&&(s.Tb(0,"div"),s.Tb(1,"p"),s.xc(2," PRODUCT TYPE: "),s.Tb(3,"span"),s.xc(4),s.Sb(),s.Sb(),s.Tb(5,"p"),s.xc(6," NO. OF RATINGS:"),s.Tb(7,"span"),s.xc(8),s.Sb(),s.Sb(),s.Tb(9,"p"),s.xc(10," NO. OF PRODUCTS: "),s.Tb(11,"span"),s.xc(12),s.Sb(),s.Sb(),s.Tb(13,"p"),s.xc(14," MIN. PRICE: "),s.Tb(15,"span"),s.xc(16),s.Sb(),s.Sb(),s.Tb(17,"p"),s.xc(18," MAX. PRICE: "),s.Tb(19,"span"),s.xc(20),s.Sb(),s.Sb(),s.Tb(21,"p"),s.xc(22," AVG RATINGS: "),s.Tb(23,"span"),s.xc(24),s.Sb(),s.Sb(),s.Tb(25,"p"),s.xc(26," AVG PRICE: "),s.Tb(27,"span"),s.xc(28),s.Sb(),s.Sb(),s.Sb()),2&t){const t=e.$implicit;s.Bb(4),s.yc(t._id),s.Bb(4),s.zc(" ",t.numRatings," "),s.Bb(4),s.zc(" ",t.numProducts," "),s.Bb(4),s.zc(" ",t.minPrice," "),s.Bb(4),s.zc(" ",t.maxPrice," "),s.Bb(4),s.zc(" ",t.avgRatings," "),s.Bb(4),s.zc(" ",t.avgPrice," ")}}function T(t,e){if(1&t&&(s.Tb(0,"mat-card"),s.Tb(1,"h1",8),s.xc(2,"product stats here"),s.Sb(),s.wc(3,S,29,7,"div",4),s.Sb()),2&t){const t=s.fc();s.Bb(3),s.kc("ngForOf",t.productsStatistics)}}function v(t,e){1&t&&(s.Tb(0,"p",7),s.xc(1," No product statistics available yet!\n"),s.Sb())}let y=(()=>{class t{constructor(t,e){this.service=t,this.productService=e,this.usersData=[],this.productsStatistics=[]}ngOnInit(){this.service.getAllUsers().subscribe(t=>{let e;e=t.data.data,this.usersData=e}),this.userSub=this.service.getUserUpdateListener().subscribe(t=>{this.usersData=t}),this.productService.getProdStats().subscribe(t=>{let e;e=t.data.stats,this.productsStatistics=e,console.log(this.productsStatistics)})}deltheuser(t){this.service.deleteUser(t)}ngOnDestroy(){this.userSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(d.a),s.Nb(b.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["admin-panel"]],decls:4,vars:4,consts:[["multi","true",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[4,"ngIf"],["multi","true"],[4,"ngFor","ngForOf"],["mat-button","","color","primary"],["mat-button","","color","warn",3,"click"],[1,"info-text","mat-body-1"],[1,"heading"]],template:function(t,e){1&t&&(s.wc(0,h,2,1,"mat-accordion",0),s.wc(1,P,2,0,"p",1),s.wc(2,T,4,1,"mat-card",2),s.wc(3,v,2,0,"p",1)),2&t&&(s.kc("ngIf",e.usersData.length>0),s.Bb(1),s.kc("ngIf",e.usersData.length<=0),s.Bb(1),s.kc("ngIf",e.productsStatistics.length>0),s.Bb(1),s.kc("ngIf",e.productsStatistics.length<=0))},directives:[r.l,m.a,r.k,m.c,m.e,m.f,m.d,l.b,g.a],styles:["mat-card[_ngcontent-%COMP%]{margin-top:20px;background:#a9a9a9}mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:large;color:#f0f8ff;text-align:center}mat-cars[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:xx-large;color:#3f51b5}mat-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}"]}),t})();var x=n("+QDG"),w=n("kmnG"),O=n("qFsG"),I=n("Xa2L");function C(t,e){if(1&t&&(s.Tb(0,"div",16),s.Ob(1,"img",17),s.Sb()),2&t){const t=s.fc();s.Bb(1),s.kc("src",t.imagePreview,s.rc)}}function k(t,e){1&t&&(s.Tb(0,"mat-error"),s.xc(1,"Please enter Product Name"),s.Sb())}function M(t,e){1&t&&(s.Tb(0,"mat-error"),s.xc(1,"Please enter Product Company Name "),s.Sb())}function N(t,e){1&t&&(s.Tb(0,"mat-error"),s.xc(1,"Please enter Product Category"),s.Sb())}function D(t,e){1&t&&(s.Tb(0,"mat-error"),s.xc(1,"Please enter Product Price "),s.Sb())}function B(t,e){1&t&&(s.Tb(0,"mat-error"),s.xc(1,"Please enter Product Price Discount if any "),s.Sb())}function _(t,e){1&t&&(s.Tb(0,"mat-error"),s.xc(1,"Please enter Product's Description "),s.Sb())}function U(t,e){1&t&&(s.Tb(0,"button",18),s.xc(1," Create "),s.Sb())}function q(t,e){1&t&&s.Ob(0,"mat-spinner")}function L(t,e){1&t&&(s.Tb(0,"span",19),s.xc(1,"No Products Yet to Display"),s.Sb())}const A=function(t){return["/admin/admin-product-crud-operations-update-only",t]};function E(t,e){if(1&t){const t=s.Ub();s.Tb(0,"mat-expansion-panel"),s.Tb(1,"mat-expansion-panel-header"),s.Tb(2,"mat-panel-title"),s.xc(3),s.Sb(),s.Sb(),s.Tb(4,"p"),s.xc(5),s.Sb(),s.Tb(6,"mat-action-row"),s.Tb(7,"button",22),s.xc(8," EDIT "),s.Sb(),s.Tb(9,"button",23),s.bc("click",(function(){s.qc(t);const n=e.$implicit;return s.fc(2).onDeleteProd(n.id,n.name)})),s.xc(10," DELETE "),s.Sb(),s.Sb(),s.Sb()}if(2&t){const t=e.$implicit;s.Bb(3),s.zc(" ",t.name," "),s.Bb(2),s.Ac("",t.productType," ",t.companyName,""),s.Bb(2),s.kc("routerLink",s.lc(4,A,t.id))}}function G(t,e){if(1&t&&(s.Tb(0,"mat-accordion",20),s.wc(1,E,11,6,"mat-expansion-panel",21),s.Sb()),2&t){const t=s.fc();s.Bb(1),s.kc("ngForOf",t.product)}}function R(t,e){if(1&t&&(s.Tb(0,"div",14),s.Ob(1,"img",15),s.Sb()),2&t){const t=s.fc();s.Bb(1),s.kc("src",t.imagePreview,s.rc)}}function F(t,e){1&t&&(s.Tb(0,"button",16),s.xc(1," UPDATE PRODUCT "),s.Sb())}function z(t,e){1&t&&s.Ob(0,"mat-spinner")}const V=[{path:"admin-panel",component:y,canActivate:[o.a,p]},{path:"admin-product-crud-operations",component:(()=>{class t{constructor(t){this.service=t,this.isLoading=!1,this.product=[],this.createProduct=new c.d({name:new c.b("",c.m.required),image:new c.b("",c.m.required,[x.a]),companyName:new c.b("",c.m.required),productType:new c.b("",c.m.required),price:new c.b("",c.m.required),priceDiscount:new c.b("",c.m.required),description:new c.b("",c.m.required)})}ngOnInit(){this.prodCreateSub=this.service.getproductCreateStatusListener().subscribe(t=>{this.isLoading=!1}),this.service.getAllProducts().subscribe(t=>{let e;e=t.data.data,this.product=e}),this.productSub=this.service.getProductUpdateListener().subscribe(t=>{this.product=t})}onDeleteProd(t,e){this.service.deleteProduct(t)}pickImage(t){const e=t.target.files[0];this.createProduct.patchValue({image:e}),this.createProduct.get("image").updateValueAndValidity();const n=new FileReader;n.onload=()=>{this.imagePreview=n.result},n.readAsDataURL(e)}createCard(){this.createProduct.invalid||(this.isLoading=!0,this.service.createProduct(this.createProduct.value.name,this.createProduct.value.image,this.createProduct.value.companyName,this.createProduct.value.productType,this.createProduct.value.price,this.createProduct.value.priceDiscount,this.createProduct.value.description),this.createProduct.reset())}ngOnDestroy(){this.productSub.unsubscribe(),this.prodCreateSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(b.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["admin-product-crud-operations"]],decls:39,vars:12,consts:[[1,"info-text","mat-body-1","tophead"],[3,"formGroup","ngSubmit"],["mat-stroked-button","","type","button",3,"click"],["type","file",3,"change"],["filepicker",""],["class","image-preview",4,"ngIf"],["matInput","","type","text","formControlName","name","placeholder"," product name here....","required",""],[4,"ngIf"],["matInput","","type","text","formControlName","companyName","placeholder","product company name here...","required",""],["matInput","","type","text","formControlName","productType","placeholder","product type here...","required",""],["matInput","","type","text","formControlName","price","placeholder","product price here...","required",""],["matInput","","type","text","formControlName","description","placeholder","product price discount  here...","required",""],["matInput","","type","text","formControlName","priceDiscount","placeholder"," product description here...","required",""],["mat-raised-button","","color","accent","type","submit",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],["multi","true",4,"ngIf"],[1,"image-preview"],[3,"src"],["mat-raised-button","","color","accent","type","submit"],[1,"info-text","mat-body-1"],["multi","true"],[4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","warn",3,"click"]],template:function(t,e){if(1&t){const t=s.Ub();s.Tb(0,"p",0),s.xc(1,"product management section"),s.Sb(),s.Ob(2,"hr"),s.Tb(3,"mat-card"),s.Tb(4,"form",1),s.bc("ngSubmit",(function(){return e.createCard()})),s.Tb(5,"div"),s.Tb(6,"button",2),s.bc("click",(function(){return s.qc(t),s.oc(9).click()})),s.xc(7," IMAGE "),s.Sb(),s.Tb(8,"input",3,4),s.bc("change",(function(t){return e.pickImage(t)})),s.Sb(),s.Sb(),s.wc(10,C,2,1,"div",5),s.Tb(11,"mat-form-field"),s.Ob(12,"input",6),s.wc(13,k,2,0,"mat-error",7),s.Sb(),s.Tb(14,"mat-form-field"),s.Ob(15,"input",8),s.wc(16,M,2,0,"mat-error",7),s.Sb(),s.Tb(17,"mat-form-field"),s.Ob(18,"input",9),s.wc(19,N,2,0,"mat-error",7),s.Sb(),s.Tb(20,"mat-form-field"),s.Ob(21,"input",10),s.wc(22,D,2,0,"mat-error",7),s.Sb(),s.Tb(23,"mat-form-field"),s.Ob(24,"input",11),s.wc(25,B,2,0,"mat-error",7),s.Sb(),s.Tb(26,"mat-form-field"),s.Ob(27,"input",12),s.wc(28,_,2,0,"mat-error",7),s.Sb(),s.wc(29,U,2,0,"button",13),s.wc(30,q,1,0,"mat-spinner",7),s.Sb(),s.Sb(),s.Tb(31,"mat-card"),s.Tb(32,"p",0),s.xc(33,"delete products here"),s.Sb(),s.Ob(34,"br"),s.Ob(35,"hr"),s.Ob(36,"br"),s.wc(37,L,2,0,"span",14),s.wc(38,G,2,1,"mat-accordion",15),s.Sb()}2&t&&(s.Bb(4),s.kc("formGroup",e.createProduct),s.Bb(6),s.kc("ngIf",""!==e.imagePreview&&e.imagePreview&&e.createProduct.get("image").valid),s.Bb(3),s.kc("ngIf",e.createProduct.get("name").invalid),s.Bb(3),s.kc("ngIf",e.createProduct.get("companyName").invalid),s.Bb(3),s.kc("ngIf",e.createProduct.get("productType").invalid),s.Bb(3),s.kc("ngIf",e.createProduct.get("price").invalid),s.Bb(3),s.kc("ngIf",e.createProduct.get("description").invalid),s.Bb(3),s.kc("ngIf",e.createProduct.get("priceDiscount").invalid),s.Bb(1),s.kc("ngIf",!e.isLoading),s.Bb(1),s.kc("ngIf",e.isLoading),s.Bb(7),s.kc("ngIf",e.product.length<=0),s.Bb(1),s.kc("ngIf",e.product.length>0))},directives:[g.a,c.n,c.i,c.e,l.b,r.l,w.c,O.a,c.a,c.h,c.c,c.l,w.b,I.b,m.a,r.k,m.c,m.e,m.f,m.d,a.c],styles:["input[type=file][_ngcontent-%COMP%]{visibility:hidden}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]{width:60%;margin:10% auto}.image-preview[_ngcontent-%COMP%]{height:5rem;border-radius:50%;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}ul[_ngcontent-%COMP%]{list-style:none}li[_ngcontent-%COMP%]{color:#be0b0b}span[_ngcontent-%COMP%]{text-align:center}mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.tophead[_ngcontent-%COMP%]{font-size:larger;text-transform:uppercase;text-align:center;margin-top:8px}mat-spinner[_ngcontent-%COMP%]{margin:0 40%}"]}),t})(),canActivate:[o.a,p]},{path:"admin-product-crud-operations-update-only/:id",component:(()=>{class t{constructor(t,e){this.service=t,this.route=e,this.isLoading=!1}ngOnInit(){this.prodUpdateSub=this.service.getproductCreateStatusListener().subscribe(t=>{this.isLoading=!1}),this.productUpdation=new c.d({name:new c.b("",c.m.required),image:new c.b("",c.m.required,[x.a]),companyName:new c.b("",c.m.required),productType:new c.b("",c.m.required),price:new c.b("",c.m.required),priceDiscount:new c.b("",c.m.required),description:new c.b("",c.m.required)}),this.route.paramMap.subscribe(t=>{t.has("id")?(this.productId=t.get("id"),this.service.getOneProduct(this.productId).subscribe(t=>{let e;e=t.data.data,this.product={name:e.name,image:e.image,companyName:e.companyName,productType:e.productType,price:e.price,priceDiscount:e.priceDiscount,description:e.description},this.productUpdation.patchValue({name:this.product.name,image:this.product.image,companyName:this.product.companyName,productType:this.product.productType,price:this.product.price,priceDiscount:this.product.priceDiscount,description:this.product.description})})):this.productId=null})}pickImage(t){const e=t.target.files[0];this.productUpdation.patchValue({image:e}),this.productUpdation.get("image").updateValueAndValidity();const n=new FileReader;n.onload=()=>{this.imagePreview=n.result},n.readAsDataURL(e)}updateProdData(){this.productUpdation.invalid||(this.isLoading=!0,this.service.updateProduct(this.productId,this.productUpdation.value.name,this.productUpdation.value.image,this.productUpdation.value.companyName,this.productUpdation.value.productType,this.productUpdation.value.price,this.productUpdation.value.priceDiscount,this.productUpdation.value.description),this.productUpdation.reset())}ngOnDestroy(){this.prodUpdateSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(b.a),s.Nb(a.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["admin-product-crud-operations-update-only"]],decls:24,vars:4,consts:[[1,"head"],[3,"formGroup","ngSubmit"],["mat-stroked-button","","type","button",3,"click"],["type","file",3,"change"],["filepicker",""],["class","image-preview",4,"ngIf"],["matInput","","formControlName","name","type","text","placeholder","product name here...."],["matInput","","formControlName","companyName","type","text","placeholder","product company name here..."],["matInput","","formControlName","productType","type","text","placeholder","product type here..."],["matInput","","formControlName","price","type","text","placeholder","product price here..."],["matInput","","formControlName","priceDiscount","type","text","placeholder","product price discount here..."],["matInput","","formControlName","description","type","text","placeholder","product description here..."],["mat-raised-button","","type","submit","color","accent",4,"ngIf"],[4,"ngIf"],[1,"image-preview"],[3,"src"],["mat-raised-button","","type","submit","color","accent"]],template:function(t,e){if(1&t){const t=s.Ub();s.Tb(0,"mat-card"),s.Tb(1,"p",0),s.xc(2,"product update section"),s.Sb(),s.Tb(3,"form",1),s.bc("ngSubmit",(function(){return e.updateProdData()})),s.Tb(4,"div"),s.Tb(5,"button",2),s.bc("click",(function(){return s.qc(t),s.oc(8).click()})),s.xc(6," UPDATE IMAGE "),s.Sb(),s.Tb(7,"input",3,4),s.bc("change",(function(t){return e.pickImage(t)})),s.Sb(),s.Sb(),s.wc(9,R,2,1,"div",5),s.Tb(10,"mat-form-field"),s.Ob(11,"input",6),s.Sb(),s.Tb(12,"mat-form-field"),s.Ob(13,"input",7),s.Sb(),s.Tb(14,"mat-form-field"),s.Ob(15,"input",8),s.Sb(),s.Tb(16,"mat-form-field"),s.Ob(17,"input",9),s.Sb(),s.Tb(18,"mat-form-field"),s.Ob(19,"input",10),s.Sb(),s.Tb(20,"mat-form-field"),s.Ob(21,"input",11),s.Sb(),s.wc(22,F,2,0,"button",12),s.wc(23,z,1,0,"mat-spinner",13),s.Sb(),s.Sb()}2&t&&(s.Bb(3),s.kc("formGroup",e.productUpdation),s.Bb(6),s.kc("ngIf",""!==e.imagePreview&&e.imagePreview&&e.productUpdation.get("image").valid),s.Bb(13),s.kc("ngIf",!e.isLoading),s.Bb(1),s.kc("ngIf",e.isLoading))},directives:[g.a,c.n,c.i,c.e,l.b,r.l,w.c,O.a,c.a,c.h,c.c,I.b],styles:["input[type=file][_ngcontent-%COMP%]{visibility:hidden}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]{width:60%;margin:10% auto}.image-preview[_ngcontent-%COMP%]{height:5rem;border-radius:50%;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}span[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{font-size:large;text-align:center;margin:8px 0;text-transform:uppercase}mat-spinner[_ngcontent-%COMP%]{margin:0 40%}"]}),t})(),canActivate:[o.a,p]}];let X=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},providers:[o.a,p],imports:[[a.f.forChild(V)],a.f]}),t})(),$=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[r.c,c.k,c.f,i.a,a.f,X]]}),t})()}}]);